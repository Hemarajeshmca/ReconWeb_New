@{
	Layout = "~/Views/Shared/_LayoutNew.cshtml";
}
@*
<iframe src="http://140.238.247.210/ConnectorWeb/Connectors/" title="description" style="height: 556px;width: 98%;padding-left: 23px;padding-bottom: -5px;margin-top: -13px;border:1px white">

	div.footer {
	display: none;
	}
</iframe>*@

<div class="row" style="margin-top:10px">
    <div class="col-xs-12">

<div id="external-content"></div>
</div>
</div>

@*<script>$("#testLoad").load("http://140.238.247.210/ConnectorWeb/Connectors/");</script>
<div id="testLoad"></div>*@

@*<object data="http://140.238.247.210/ConnectorWeb/Connectors/" width="1400" height="1000" style="padding-left: 23px;padding-bottom: -5px;margin-top: -13px;border:1px white">

</object>*@

@*<body>
    <button id="fetchData">Fetch Data from Another Application</button>
    <div id="result"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="script.js"></script>
</body>*@
<script>
	$(document).ready(function () {
		$("#navhead").text("Connectors");

        //$("#fetchData").click(function () {
        //    // Make an AJAX GET request to the other application's API endpoint
        //    $.get("http://140.238.247.210/testcors/ConnectorWeb/Connectors", function (data) {
        //        // Handle the response data here
        //        $("#result").html(data);
        //    })
        //        .fail(function (error) {
        //            // Handle errors (e.g., network issues, server errors)
        //            $("#result").html("Error: " + error.statusText);
        //        });
        //});

        fetch('http://localhost:5544')
            .then(response => {
                debugger;
                if (response.ok) {
                    return response.text();
                }
                throw new Error('Network response was not ok');
            })
            .then(htmlContent => {
                // Display the retrieved content in the designated div
                document.getElementById('external-content').innerHTML = htmlContent;
            })
            .catch(error => {
                console.error('Error:', error);
            });   
    });

    
    //document.addEventListener("DOMContentLoaded", function () {
    //    fetchExternalContent();
    //});

    //async function fetchExternalContent() {
    //    const externalWebsiteURL = 'http://localhost:5544/';
    //    try {
    //        const response = await fetch(externalWebsiteURL);

    //        if (!response.ok) {
    //            throw new Error('Network response was not ok');
    //        }

    //        var htmlContent = await response.text();
    //        document.getElementById('external-content').innerHTML = htmlContent;
    //    } catch (error) {
    //        console.error('Error fetching external content:', error);
    //    }
    //}
</script>